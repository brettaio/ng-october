{"ast":null,"code":"import { ConfigService } from './config.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./config.service\";\nimport * as i2 from \"@angular/common\";\nfunction ConfigComponent_span_11_div_7_li_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const header_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(header_r4);\n  }\n}\nfunction ConfigComponent_span_11_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Response headers: \");\n    i0.ɵɵelementStart(2, \"ul\");\n    i0.ɵɵtemplate(3, ConfigComponent_span_11_div_7_li_3_Template, 2, 1, \"li\", 3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.headers);\n  }\n}\nfunction ConfigComponent_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\")(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, ConfigComponent_span_11_div_7_Template, 4, 1, \"div\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Heroes API URL is \\\"\", ctx_r0.config.heroesUrl, \"\\\"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Textfile URL is \\\"\", ctx_r0.config.textfile, \"\\\"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"Date is \\\"\", ctx_r0.config.date.toDateString(), \"\\\" (\", ctx_r0.getType(ctx_r0.config.date), \")\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.headers);\n  }\n}\nfunction ConfigComponent_p_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 4);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"json\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 1, ctx_r1.error));\n  }\n}\nexport class ConfigComponent {\n  constructor(configService) {\n    this.configService = configService;\n    this.headers = [];\n  }\n  clear() {\n    this.config = undefined;\n    this.error = undefined;\n    this.headers = [];\n  }\n  showConfig() {\n    this.configService.getConfig().subscribe({\n      next: data => this.config = {\n        ...data\n      },\n      error: error => this.error = error // error path\n    });\n  }\n\n  showConfig_v1() {\n    this.configService.getConfig_1().subscribe(data => this.config = {\n      heroesUrl: data.heroesUrl,\n      textfile: data.textfile,\n      date: data.date\n    });\n  }\n  showConfig_v2() {\n    this.configService.getConfig()\n    // clone the data object, using its known Config shape\n    .subscribe(data => this.config = {\n      ...data\n    });\n  }\n  showConfigResponse() {\n    this.configService.getConfigResponse()\n    // resp is of type `HttpResponse<Config>`\n    .subscribe(resp => {\n      // display its headers\n      const keys = resp.headers.keys();\n      this.headers = keys.map(key => `${key}: ${resp.headers.get(key)}`);\n      // access the body directly, which is typed as `Config`.\n      this.config = {\n        ...resp.body\n      };\n    });\n  }\n  makeError() {\n    this.configService.makeIntentionalError().subscribe({\n      error: error => this.error = error.message\n    });\n  }\n  getType(val) {\n    return val instanceof Date ? 'date' : Array.isArray(val) ? 'array' : typeof val;\n  }\n  static #_ = this.ɵfac = function ConfigComponent_Factory(t) {\n    return new (t || ConfigComponent)(i0.ɵɵdirectiveInject(i1.ConfigService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ConfigComponent,\n    selectors: [[\"app-config\"]],\n    features: [i0.ɵɵProvidersFeature([ConfigService])],\n    decls: 13,\n    vars: 2,\n    consts: [[\"type\", \"button\", 3, \"click\"], [4, \"ngIf\"], [\"class\", \"error\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [1, \"error\"]],\n    template: function ConfigComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h3\");\n        i0.ɵɵtext(1, \"Get configuration from JSON file\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\")(3, \"button\", 0);\n        i0.ɵɵlistener(\"click\", function ConfigComponent_Template_button_click_3_listener() {\n          ctx.clear();\n          return ctx.showConfig();\n        });\n        i0.ɵɵtext(4, \"get\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"button\", 0);\n        i0.ɵɵlistener(\"click\", function ConfigComponent_Template_button_click_5_listener() {\n          ctx.clear();\n          return ctx.showConfigResponse();\n        });\n        i0.ɵɵtext(6, \"getResponse\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"button\", 0);\n        i0.ɵɵlistener(\"click\", function ConfigComponent_Template_button_click_7_listener() {\n          return ctx.clear();\n        });\n        i0.ɵɵtext(8, \"clear\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"button\", 0);\n        i0.ɵɵlistener(\"click\", function ConfigComponent_Template_button_click_9_listener() {\n          ctx.clear();\n          return ctx.makeError();\n        });\n        i0.ɵɵtext(10, \"error\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(11, ConfigComponent_span_11_Template, 8, 5, \"span\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(12, ConfigComponent_p_12_Template, 3, 3, \"p\", 2);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngIf\", ctx.config);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.error);\n      }\n    },\n    dependencies: [i2.NgForOf, i2.NgIf, i2.JsonPipe],\n    styles: [\".error[_ngcontent-%COMP%] { color: #b30000; }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29uZmlnL2NvbmZpZy5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsU0FBUyxjQUFjLEVBQUUiLCJzb3VyY2VzQ29udGVudCI6WyIuZXJyb3IgeyBjb2xvcjogI2IzMDAwMDsgfSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["ConfigService","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","header_r4","ɵɵtemplate","ConfigComponent_span_11_div_7_li_3_Template","ɵɵproperty","ctx_r2","headers","ConfigComponent_span_11_div_7_Template","ɵɵtextInterpolate1","ctx_r0","config","heroesUrl","textfile","ɵɵtextInterpolate2","date","toDateString","getType","ɵɵpipeBind1","ctx_r1","error","ConfigComponent","constructor","configService","clear","undefined","showConfig","getConfig","subscribe","next","data","showConfig_v1","getConfig_1","showConfig_v2","showConfigResponse","getConfigResponse","resp","keys","map","key","get","body","makeError","makeIntentionalError","message","val","Date","Array","isArray","_","ɵɵdirectiveInject","i1","_2","selectors","features","ɵɵProvidersFeature","decls","vars","consts","template","ConfigComponent_Template","rf","ctx","ɵɵlistener","ConfigComponent_Template_button_click_3_listener","ConfigComponent_Template_button_click_5_listener","ConfigComponent_Template_button_click_7_listener","ConfigComponent_Template_button_click_9_listener","ConfigComponent_span_11_Template","ConfigComponent_p_12_Template"],"sources":["c:\\brettaio\\ng-http\\src\\app\\config\\config.component.ts","c:\\brettaio\\ng-http\\src\\app\\config\\config.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Config, ConfigService } from './config.service';\n\n@Component({\n  selector: 'app-config',\n  templateUrl: './config.component.html',\n  providers: [ ConfigService ],\n  styles: ['.error { color: #b30000; }']\n})\nexport class ConfigComponent {\n  error: any;\n  headers: string[] = [];\n  config: Config | undefined;\n\n  constructor(private configService: ConfigService) {}\n\n  clear() {\n    this.config = undefined;\n    this.error = undefined;\n    this.headers = [];\n  }\n\n  showConfig() {\n    this.configService.getConfig()\n      .subscribe({\n        next: (data: Config) => this.config = { ...data }, // success path\n        error: error => this.error = error, // error path\n      });\n  }\n\n  showConfig_v1() {\n    this.configService.getConfig_1()\n      .subscribe((data: Config) => this.config = {\n          heroesUrl: data.heroesUrl,\n          textfile:  data.textfile,\n          date: data.date,\n      });\n  }\n\n  showConfig_v2() {\n    this.configService.getConfig()\n      // clone the data object, using its known Config shape\n      .subscribe((data: Config) => this.config = { ...data });\n  }\n\n  showConfigResponse() {\n    this.configService.getConfigResponse()\n      // resp is of type `HttpResponse<Config>`\n      .subscribe(resp => {\n        // display its headers\n        const keys = resp.headers.keys();\n        this.headers = keys.map(key =>\n          `${key}: ${resp.headers.get(key)}`);\n\n        // access the body directly, which is typed as `Config`.\n        this.config = { ...resp.body! };\n      });\n  }\n  makeError() {\n    this.configService.makeIntentionalError().subscribe({ error: error => this.error = error.message });\n  }\n\n  getType(val: any): string {\n    return val instanceof Date ? 'date' : Array.isArray(val) ? 'array' : typeof val;\n  }\n}\n","<h3>Get configuration from JSON file</h3>\n<div>\n  <button type=\"button\" (click)=\"clear(); showConfig()\">get</button>\n  <button type=\"button\" (click)=\"clear(); showConfigResponse()\">getResponse</button>\n  <button type=\"button\" (click)=\"clear()\">clear</button>\n  <button type=\"button\" (click)=\"clear(); makeError()\">error</button>\n  <span *ngIf=\"config\">\n    <p>Heroes API URL is \"{{config.heroesUrl}}\"</p>\n    <p>Textfile URL is \"{{config.textfile}}\"</p>\n    <p>Date is \"{{config.date.toDateString()}}\" ({{getType(config.date)}})</p>\n    <div *ngIf=\"headers\">\n      Response headers:\n      <ul>\n        <li *ngFor=\"let header of headers\">{{header}}</li>\n      </ul>\n    </div>\n  </span>\n</div>\n<p *ngIf=\"error\" class=\"error\">{{error | json}}</p>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}